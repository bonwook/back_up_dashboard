# 공휴일 API 연동 설정 가이드

## 개요
이 프로젝트는 공공데이터포털의 **특일정보(공휴일 정보) API**를 사용하여 캘린더에 공휴일을 표시합니다.

## API 키 발급 방법

1. **공공데이터포털 회원가입 및 로그인**
   - [공공데이터포털](https://www.data.go.kr) 접속
   - 회원가입 또는 로그인

2. **특일정보 API 신청**
   - [특일정보 서비스 페이지](https://www.data.go.kr/data/15012690/openapi.do) 접속
   - "활용신청" 버튼 클릭
   - 약관 동의 및 활용목적 작성 후 신청
   - 승인은 보통 즉시 또는 몇 시간 내 완료됩니다

3. **API 키 확인**
   - [마이페이지 > 오픈API](https://www.data.go.kr/mypage/api/apiMng.do) 접속
   - "특일정보" API 찾기
   - "일반 인증키(Encoding)" 복사

4. **환경 변수 설정**
   - 프로젝트 루트의 `.env` 파일에 다음 라인 추가:
   ```env
   HOLIDAY_API_KEY=발급받은_API_키
   ```

## API 동작 방식

- **API 엔드포인트**: `/api/holidays`
- **캐싱**: 24시간 메모리 캐시 (불필요한 API 호출 방지)
- **폴백**: API 키가 없거나 오류 발생 시 기본 양력 공휴일만 표시

## 적용 범위

이 API는 다음 페이지에서 사용됩니다:
- `/admin/calendar` - Staff 캘린더
- `/client` - Client 대시보드 캘린더

## 주의사항

- API 키 없이도 기본 양력 공휴일(신정, 삼일절 등)은 표시됩니다
- 음력 공휴일(설날, 추석)은 API 데이터가 있어야 정확하게 표시됩니다
- 공공데이터포털 API는 무료이며 트래픽 제한이 있을 수 있습니다

## 문제 해결

### API 키를 입력했는데 공휴일이 표시되지 않는 경우
1. API 키가 정확한지 확인
2. 공공데이터포털에서 API 승인 상태 확인
3. 서버 로그에서 `[Holiday API]` 에러 메시지 확인
4. 브라우저 개발자 도구에서 `/api/holidays` 응답 확인

### API 키가 없는 경우
- 기본 양력 공휴일은 여전히 표시됩니다
- 설날, 추석 등 음력 공휴일은 표시되지 않습니다
